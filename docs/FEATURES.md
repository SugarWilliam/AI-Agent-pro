# AI Agent Pro 功能文档

**版本**: v8.2.0  
**日期**: 2026-03-01

> 本文档是功能说明文档的详细版本，包含完整的功能列表和使用指南。

---

## 📋 目录

1. [核心功能](#1-核心功能)
2. [功能模块详解](#2-功能模块详解)
3. [使用指南](#3-使用指南)
4. [高级功能](#4-高级功能)
5. [常见问题](#5-常见问题)

---

## 1. 核心功能

### 1.1 多模型AI对话

**支持模型**：
- **DeepSeek**: Chat（通用对话）、R1（深度推理）
- **GLM**: GLM-4-Plus（旗舰模型）、GLM-4-Flash（快速响应）
- **Kimi**: 长文本处理
- **通义千问**: 阿里云模型
- **GPT-4o**: OpenAI最新模型
- **Claude 3**: Anthropic模型
- **Auto模式**: 根据任务自动选择最佳模型

**特性**：
- ✅ 流式响应（实时显示生成内容）
- ✅ 思考过程显示（支持推理模型）
- ✅ 多轮对话上下文保持
- ✅ 消息历史管理
- ✅ 消息操作（复制、下载、删除、编辑）

### 1.2 智能SubAgent系统

**内置助手**（20+）：
- 通用助手
- 代码助手
- 写作助手
- 数据分析助手
- 学习导师
- 翻译专家
- 超级决策
- 创意助手
- 研究助手
- 设计顾问
- ...（更多）

**自定义助手**：
- 创建自定义SubAgent
- 配置系统提示词
- 关联资源（Skills、Rules、MCP、RAG）
- 设置模型偏好

### 1.3 RAG知识库增强

**文档格式支持**：
- PDF、DOC/DOCX、PPT/PPTX
- Excel、CSV
- HTML、Markdown、TXT
- 图片（OCR）
- URL（网页抓取）

**向量化算法**：
- TF-IDF + 语义哈希
- 256维向量
- 余弦相似度搜索

**内置知识库**（20+）：
- 金融知识库
- 哲学知识库
- 文学知识库
- 嵌入式Linux
- AI知识库
- 摄影技术
- 地理知识库
- 社科知识库
- 行业权威报告
- 政府工作报告
- ...（更多）

### 1.4 任务与计划管理

**任务管理**：
- 创建任务
- 设置优先级
- 跟踪完成状态
- 任务列表管理

**计划管理**：
- AI辅助生成计划
- 自动生成TODO列表
- 计划执行跟踪
- 进度可视化

### 1.5 多模态输入输出

**输入支持**：
- 文本输入
- 图片上传
- 文档上传（多格式）
- URL输入

**输出格式**：
- Markdown（默认）
- HTML
- 表格（Spreadsheet）
- PDF（预览）
- PPT（预览）
- H5网页
- 图片

### 1.6 实时网络搜索（v8.1.0新增）

**多源并行搜索**：
- 支持9个搜索源同时搜索
- DuckDuckGo API/HTML
- Bing、百度、今日头条
- 抖音、小红书
- CNN、BBC

**智能结果提取**：
- 每个搜索源至少返回5条强相关性结果
- 自动去重和排序
- 内容质量检测（过滤登录页、错误页）
- 智能URL提取和解析

**搜索状态显示**：
- 实时显示搜索进度
- 支持中断搜索
- 搜索源状态反馈

---

## 2. 功能模块详解

### 2.1 对话系统

#### 2.1.1 基本对话

**功能**：用户与AI助手进行文本对话

**使用方式**：
1. 在输入框输入消息
2. 按Enter或点击发送按钮
3. 等待AI回复

**特性**：
- 多轮对话上下文保持
- 流式响应显示
- 思考过程展示（如支持）
- 消息历史保存
- 发送按钮中断功能（v8.1.0新增）
- 按钮状态自动恢复

#### 2.1.2 消息操作

**复制消息**：
- 点击消息下方的复制按钮
- 使用快捷键（Ctrl+C）

**下载消息**：
- 点击下载按钮
- 选择格式（Markdown、HTML、TXT、JSON、PDF）
- 保存到本地

**删除消息**：
- 点击删除按钮
- 确认删除

**编辑消息**：
- 点击编辑按钮
- 修改消息内容
- 重新发送

**语音播放**：
- 点击语音按钮
- 使用Web Speech API播放

**重新生成**：
- 点击重新生成按钮
- 删除当前回复
- 重新调用LLM生成

### 2.2 模型管理

#### 2.2.1 模型选择

**方式**：
- 点击顶部导航栏的模型选择器
- 选择要使用的模型

**Auto模式**：
- 根据任务类型自动选择最佳模型
- 考虑SubAgent偏好
- 考虑API密钥可用性

#### 2.2.2 模型配置

**API密钥配置**：
1. 进入设置 → 模型
2. 选择要配置的模型
3. 输入API密钥
4. 保存配置

**自定义模型**：
1. 进入设置 → 模型
2. 点击"添加自定义模型"
3. 配置模型信息：
   - 名称
   - API地址
   - API密钥
   - 参数设置
4. 保存配置

### 2.3 SubAgent系统

#### 2.3.1 助手选择

**方式**：
- 点击底部工具栏的助手按钮
- 在SubAgent选择器中选择

**助手信息**：
- 名称和描述
- 图标和颜色
- 能力列表
- 关联资源

#### 2.3.2 助手管理

**创建自定义助手**：
1. 进入设置 → 助手
2. 点击"添加助手"
3. 配置助手信息：
   - 名称和描述
   - 系统提示词
   - 能力列表
   - 模型偏好
   - 关联资源
4. 保存配置

**编辑助手**：
1. 进入设置 → 助手
2. 选择要编辑的助手
3. 修改配置
4. 保存更改

**删除助手**：
1. 进入设置 → 助手
2. 选择要删除的助手
3. 点击删除按钮
4. 确认删除

### 2.4 资源管理

#### 2.4.1 Skills（技能）

**内置技能**（20+）：
- 专业写作
- 翻译专家
- 代码助手
- 数据分析师
- 学习导师
- 头脑风暴
- 内容审校
- 摘要生成
- 演示文稿
- 计划制定
- 研究助手
- 设计顾问
- ...（更多）

**技能格式**：
- SKILL.md格式
- 包含名称、描述、提示词
- 支持输出格式配置

#### 2.4.2 Rules（规则）

**内置规则**（8个）：
- 格式规范
- 语气风格
- 安全准则
- 准确性
- 示例要求
- 结构清晰
- 多模态支持
- 上下文保持

**规则优先级**：
- 按优先级排序
- 高优先级规则优先应用

#### 2.4.3 MCP服务

**内置MCP**（6个）：
- 文件系统
- 网络搜索
- 计算器
- 翻译服务
- 文档解析
- 图像分析

**MCP功能**：
- 自动调用（如需要）
- 结果整合到上下文
- 支持自定义MCP

#### 2.4.4 RAG知识库

**文档管理**：
- 上传文档
- 解析文档
- 向量化存储
- 删除文档

**知识库管理**：
- 创建知识库
- 关联文档
- 配置外部数据源
- 设置默认内容

### 2.5 任务管理

#### 2.5.1 创建任务

**方式**：
1. 切换到"任务"模式
2. 点击"创建任务"
3. 输入任务信息：
   - 标题
   - 描述
   - 优先级（高/中/低）
   - 截止日期（可选）
4. 保存任务

#### 2.5.2 任务操作

**完成任务**：
- 勾选任务完成状态
- 自动更新进度

**编辑任务**：
- 点击任务
- 修改信息
- 保存更改

**删除任务**：
- 点击删除按钮
- 确认删除

**查看任务**：
- 在任务列表中查看
- 按状态筛选
- 按优先级排序

### 2.6 计划管理

#### 2.6.1 创建计划

**方式**：
1. 切换到"计划"模式
2. 输入计划描述
3. AI自动生成计划步骤和TODO列表
4. 查看和编辑计划

**AI生成内容**：
- 计划步骤
- TODO列表
- 时间估算
- 资源需求

#### 2.6.2 计划执行

**开始计划**：
- 激活计划
- 开始执行第一个TODO

**继续计划**：
- 在中断后继续执行
- 从上次停止的地方继续

**查看进度**：
- 查看完成进度
- 查看TODO状态
- 查看时间统计

### 2.7 设置系统

#### 2.7.1 通用设置

**主题**：
- 深色主题（默认）
- 浅色主题
- 自动（跟随系统）

**语言**：
- 简体中文
- English

**发送快捷键**：
- Enter（默认）
- Ctrl+Enter

**字体大小**：
- 小
- 中（默认）
- 大

**其他设置**：
- 自动语音播放
- 显示思考过程
- 网络搜索开关

#### 2.7.2 模型设置

**功能**：
- 查看所有模型配置状态
- 配置各模型的API Key
- 添加自定义模型
- 测试模型连接

#### 2.7.3 资源设置

**功能**：
- 管理RAG知识库
- 管理Skills
- 管理MCP服务
- 管理Rules

#### 2.7.4 助手设置

**功能**：
- 查看所有SubAgent
- 编辑助手配置
- 删除自定义助手
- 导入/导出助手配置

#### 2.7.5 同步设置

**功能**：
- 配置同步服务器
- 设置同步间隔
- 手动触发同步
- 查看同步状态

#### 2.7.6 数据管理

**导出数据**：
- 导出所有数据为JSON
- 包含消息、配置、文档等

**导入数据**：
- 从JSON文件导入数据
- 合并或覆盖现有数据

**清除数据**：
- 清除所有数据
- 恢复默认配置

---

## 3. 使用指南

### 3.1 快速开始

1. **打开应用**
   - 访问部署地址
   - 等待初始化完成（3-4秒）

2. **选择模型**
   - 点击顶部模型选择器
   - 选择要使用的模型（默认Auto）

3. **选择助手**
   - 点击底部助手按钮
   - 选择适合的助手（默认通用助手）

4. **开始对话**
   - 在输入框输入消息
   - 按Enter或点击发送
   - 等待AI回复

### 3.2 切换模式

**对话模式**：
- 普通AI对话
- 多轮对话
- 上下文保持

**任务模式**：
- 创建和管理任务
- 任务列表
- 任务跟踪

**计划模式**：
- 创建项目计划
- AI辅助生成
- 计划执行

**创意模式**：
- 创意生成
- 头脑风暴
- 内容创作

**创作模式**：
- 专业写作
- 内容创作
- 格式输出

### 3.3 使用SubAgent

1. **选择助手**
   - 点击底部助手按钮
   - 浏览可用助手
   - 选择适合的助手

2. **查看助手信息**
   - 查看助手描述
   - 查看能力列表
   - 查看关联资源

3. **使用助手**
   - 发送消息
   - 助手自动应用专业能力
   - 获得专业回复

### 3.4 管理资源

1. **进入设置**
   - 点击设置按钮
   - 选择资源标签

2. **管理资源**
   - 选择资源类型
   - 添加、编辑或删除资源
   - 配置资源属性

3. **关联到助手**
   - 编辑助手配置
   - 选择关联资源
   - 保存配置

---

## 4. 高级功能

### 4.1 文件上传和处理

**支持格式**：
- PDF、DOC、PPT、Excel
- 图片（JPG、PNG、GIF等）
- 文本文件（TXT、Markdown）
- HTML文件

**处理流程**：
1. 选择文件
2. 自动解析
3. 向量化存储
4. 添加到RAG知识库

### 4.2 网络搜索集成

**功能**：
- 自动网络搜索（如启用）
- 网页内容爬取
- 搜索结果整合
- 添加到RAG上下文

**配置**：
- 在设置中启用网络搜索
- 配置搜索参数
- 设置爬取数量

### 4.3 多模态输出

**Markdown输出**：
- 代码高亮
- 表格渲染
- 链接处理
- Mermaid图表

**HTML输出**：
- 完整HTML文档
- 样式支持
- 响应式布局

**表格输出**：
- 可编辑表格
- 数据导出
- 图表生成

**PDF输出**：
- PDF预览
- 打印支持
- 下载保存

### 4.4 数据同步

**同步功能**：
- 配置同步服务器
- 自动同步数据
- 手动触发同步
- 冲突解决

**备份恢复**：
- 导出数据备份
- 导入数据恢复
- 版本管理

---

## 5. 常见问题

### 5.1 API配置

**Q: 如何配置API Key？**
A: 进入设置 → 模型，点击对应模型的配置按钮，输入API Key。

**Q: 支持哪些模型？**
A: 支持DeepSeek、GLM、Kimi、通义千问、GPT-4o、Claude等主流模型。

**Q: Auto模式如何工作？**
A: Auto模式根据任务类型、SubAgent偏好和API密钥可用性自动选择最佳模型。

### 5.2 数据安全

**Q: 数据存储在哪里？**
A: 数据存储在浏览器本地存储（LocalStorage）中，不会上传到服务器。

**Q: 如何备份数据？**
A: 进入设置 → 数据，点击"导出数据"按钮，保存JSON文件。

**Q: 数据会丢失吗？**
A: 数据存储在浏览器本地，清除浏览器数据会导致数据丢失。建议定期备份。

### 5.3 功能使用

**Q: 如何上传文档？**
A: 点击输入框旁边的附件按钮，选择文件，系统会自动解析和向量化。

**Q: 如何切换助手？**
A: 点击底部工具栏的助手按钮，选择要使用的助手。

**Q: 如何创建自定义助手？**
A: 进入设置 → 助手，点击"添加助手"，配置助手信息并保存。

### 5.4 性能问题

**Q: 为什么响应慢？**
A: 可能原因：网络延迟、API服务慢、文档解析耗时。建议检查网络连接和API配置。

**Q: 如何提高性能？**
A: 使用快速模型（如GLM-4-Flash）、减少文档数量、启用缓存。

### 5.5 错误处理

**Q: API调用失败怎么办？**
A: 检查API密钥配置、网络连接、API服务状态。查看浏览器控制台错误信息。

**Q: 文档解析失败怎么办？**
A: 检查文件格式是否支持、文件大小是否过大、Jina AI API密钥是否配置。

---

## 附录

### A. 快捷键列表

| 快捷键 | 功能 |
|--------|------|
| Enter | 发送消息 |
| Shift+Enter | 换行 |
| Ctrl+K | 打开命令面板 |
| Ctrl+/ | 显示快捷键帮助 |

### B. 输出格式说明

| 格式 | 说明 | 用途 |
|------|------|------|
| Markdown | 默认格式 | 通用文档 |
| HTML | HTML文档 | 网页展示 |
| Spreadsheet | 表格 | 数据分析 |
| PDF | PDF文档 | 正式文档 |
| PPT | 演示文稿 | 演示展示 |
| H5 | 移动网页 | 移动端展示 |

---

**文档版本**: v8.2.0  
**最后更新**: 2026-03-01  
**维护者**: AI Agent Pro Team
